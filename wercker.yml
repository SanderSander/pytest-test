box: wercker/python
services:
  - wercker/redis
# Build definition
build:
  # The steps that will be executed on build
  steps:
    - add-ssh-key:
        keyname: DEMO_KEY
    - script:
        name: show known hosts
        code: |
          cat $HOME/.ssh/known_hosts
          sudo mkdir /root/.ssh/
          sudo cp $HOME/.ssh/known_hosts  /root/.ssh/
          sudo chown root /root/.ssh/known_hosts
          sudo ssh -o ConnectTimeout=10 git@github.com 
    - script:
        name: pip install private-ssh
        code: |
          sudo pip install -r requirements.txt

          #    - flenter/py-virtualenv
          #    # A step that executes `pip install` command
          #    - script:
          #        name: test
          #        code: |
          #          cd $WERCKER_SOURCE_DIR
          #          python3.3 --version
